(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}})();const l=document.getElementById("destination"),I=document.getElementById("search");document.getElementById("clear");I.addEventListener("click",o=>{let r=l.value;w(r)});l.addEventListener("keydown",o=>{if(o.key==="Enter"){let r=l.value;w(r)}});async function w(o){try{const r=v(o),a=P(o),n=T(o);return await Promise.all(r,a,n)}catch(r){console.log("error",r)}}async function P(o){const a=`https://api.weatherstack.com/current?access_key=3463a3654ba01dfc7b98e056105b25bd&query=${o}`,n=document.getElementById("weather");n.innerHTML="";try{const e=await fetch(a);if(!e.ok)throw new Error("Failed to fetch");const t=await e.json();if(t.current){const c=t.current.temperature,i=t.current.weather_descriptions,s=t.current.weather_icons,E=t.current.feelslike,$=t.current.humidity,x=t.current.wind_speed,b=t.current.precip,p=document.createElement("p");p.innerText=`Temperature: ${c}`;const d=document.createElement("p");d.innerText=`Weather desciption: ${i}`;const u=document.createElement("img");u.src=s;const m=document.createElement("p");m.innerText=`Feels like: ${E}`;const h=document.createElement("p");h.innerText=`Humidity: ${$}`;const f=document.createElement("p");f.innerText=`Wind Speed: ${x}`;const y=document.createElement("p");y.innerText=`Precipitation: ${b}`;const g=document.createElement("h2");g.innerText=`The Weather in ${o} today:`,n.appendChild(g),n.appendChild(p),n.appendChild(d),n.appendChild(u),n.appendChild(m),n.appendChild(h),n.appendChild(f),n.appendChild(y)}else n.textContent="Nope"}catch{console.log("Error")}finally{console.log("complete")}}async function T(o){const r=document.getElementById("attractions");r.innerHTML="";try{const{lat:a,lng:n}=await L(o),e=await C(a,n),t=document.createElement("h2");t.innerText=`Points of Interest in ${o}`,r.appendChild(t);for(const c of e.features)if(c.properties&&c.properties.formatted){const i=document.createElement("div");i.innerHTML=`
        <h3>${c.properties.formatted}</h3>
        <p><a href="${c.website||`https://en.wikipedia.org/wiki/${encodeURIComponent(c.properties.name)}`}" target="_blank">Visit website</a></p>
        <hr>
        `,r.appendChild(i);const s=document.getElementById("articleflex");s.style.display="flex"}console.log(e)}catch(a){console.log("error",a)}}async function C(o,r){const n=`https://api.geoapify.com/v2/places?categories=tourism&limit=10&apiKey=6adab50e4f9f4421aabb4643494054aa&lat=${o}&lon=${r}`;try{const e=await fetch(n);return e.ok||console.log("didnt fetch"),e.json()}catch(e){console.log("error",e)}}async function L(o){const a=`https://api.opencagedata.com/geocode/v1/json?q=${o}&key=c9f4cfde86a74b3f81f496ef85c52936`;try{const n=await fetch(a);if(!n.ok)throw new Error("didnt fetch");const e=await n.json(),{lat:t,lng:c}=e.results[0].geometry;return{lat:t,lng:c}}catch(n){console.log("error",n)}}async function v(o){const r="z4Uya3d1JQCDBHUIO06mvA5bh1YrWExKwY65AMJx1eU3dL96bSPu9d0a",a=o,n=document.getElementById("imgs"),e=`https://api.pexels.com/v1/search?query=${a}&per_page=3`;try{const c=await(await fetch(e,{headers:{Authorization:r}})).json();n.innerHTML=c.photos.map(i=>`<img src="${i.src.medium}" alt="${i.alt}">`).join(""),n.style.display="flex"}catch(t){console.error("Error fetching images:",t)}}
